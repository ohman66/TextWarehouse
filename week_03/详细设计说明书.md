# 详细设计说明书

<<<<<<< HEAD

=======
&emsp;&emsp;项目名称：校园闲置物品租赁平台

&emsp;&emsp;文件状态：文档在编写过程中

&emsp;&emsp;文档当前版本：V0.1.14

&emsp;&emsp;作者：特别爱学习小组全体成员

&emsp;&emsp;完成日期：2022年9月16日

&emsp;&emsp;使用人员：校园内对闲置物品有租出需求的学生和老师

&emsp;&emsp;背景：希望创立一个物品租赁平台，让闲置的物品重新焕发活力
>>>>>>> 280de7e301d67926882cb2f5ab3b161edda18e42

## 引言

### 使用人员

### 编写目的
 <font color= grey>说明编写这份详细设计说明书的目的，指出预期的读者。</font>
### 编写背景
<font color= grey>说明：a．待开发软件系统的名称；b．本项目的任务提出者、开发者、用户和运行该程序系统的计算中心。</font>
### 定义与缩写
|术语|解释|
|---|---|
|    |   |
|    |   |

### 参考资料

## 程序设计结构
<font color= grey>用一系列图表列出本程序系统内的每个程序（包括每个模块和子程序）的名称、标识符和它们之间 的层次结构关系。</font>
1. 系统模块结构图：下图描述系统所有功能，及它们间的层次关系，其中更新用户基本信息模块包括：修改用户名、用户昵称，更新商家信息包括：修改商家名。
![img 系统模块结构图](https://github.com/ohman66/TextWarehouse/blob/main/week_03/%E8%AF%A6%E7%BB%86%E8%AE%BE%E8%AE%A1/%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97%E7%BB%93%E6%9E%84%E5%9B%BE.png)

2. 本系统参与者活动图：以下各图描述系统参与者进入系统后的活动。
	- 游客活动图：游客进入本系统可以注册，浏览租赁物品信息。
	![img 游客活动图]()
	
	- 用户活动图：用户进入本系统可以浏览租赁物品信息，当用户想对租赁物品信息、个人信息进行管理时必须先先登录。其中租赁信息管理包括：发布租赁物品信息、租赁信息操作（修改、删除租赁物品操作），其中用户信息管理包括：更改昵称、更改密码。
	![img 用户活动图]()
	
	- 管理员活动图：管理员进入系统只有登录后才可以使用删除用户、警告用户等操作。
	![img 管理员活动图]()
	
### 单元设计说明（标识符）

#### 游客注册模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>游客注册模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>游客注册后成为本站用户，登录后可以有更高的权限</td>
</tr>
<tr>
<td>性能</td>
<td>当游客输入用户名时可以检测此用户名是否已使用，查询数据库响应时间〈2s；当游客点“提交”按钮时更新数据库运行时间&lt;5s</td>
</tr>
<tr>
<td>输入</td>
<td>用户基本信息：用户名、注册邮箱、密码</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、点击“注册”按钮进入注册页面。2、游客进入用户填写信息页面；3、游客填写个人注册信息，点击“检查用户名”，返回成功页面提示用户继续填写；返回失败页面提示游客修改用户名.4、游客正确填写注册资料后，点击“提交”，返回注册成功页面；否则，返回失败页面,提示返回注册页面。</td>
</tr>
<tr>
<td>限制条件</td>
<td>1、必须连接数据库，否则会出现无法连接数据库错误(因为此处需要检查用户名是否可用）；2、用户名不超过18字符，邮箱长度〈24，密码长度〈18。</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系方式：在主页中点击“注册”，进入此页面；也可点击用户管理菜单下的“用户注册"进入此页面</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 游客注册协作图:游客注册成功后将记录用户信息表。
![img 游客注册协作图]()

##### 游客注册时序图
![img 游客注册时序图]()

#### 用户登录模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>用户登录模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>用户登录后可以管理个人基本信息、管理租赁物品信息</td>
</tr>
<tr>
<td>性能</td>
<td>当用户点击“登录”按钮时响应时间&lt;2s</td>
</tr>
<tr>
<td>输入</td>
<td>用户基本信息:用户名、密码</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、点击“登录"按钮进入用户登录页面。2、用户进入登录页面；3、用户填写个人基本信息,点击“登录”按钮，用户名和密码正确时，返回登录成功页面提示用户后将自动跳转至主页；否则返回登录失败页面提示用户用户名或密码错误，后将自动返回至登录页面。</td>
</tr>
<tr>
<td>限制条件</td>
<td>1、必须连接数据库，否则会出现无法连接数据库错误(因为此处需要检查用户名是否可用）；2、必须为本站注册用户</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系方式：在主页中点击“登录”，进入此页面；也可点击用户管理菜单下的“用户注册"进入此页面</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 用户登录协作图
![img 用户登录协作图]()

##### 用户登录时序图
![img 用户登录时序图]()

#### 租赁物品搜索模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>租赁物品搜索模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>用户可以按关键字：物品的名称、种类、价格条件进行组合查询物品信息</td>
</tr>
<tr>
<td>性能</td>
<td>当用户点击“搜索”按钮时，查询数据库响应时间&lt;5s</td>
</tr>
<tr>
<td>输入</td>
<td>物品基本信息：名称、种类、价格</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、选中待搜索的关键字（复选框），点击“搜索”；2、选中待搜索的关键字（复选框），点击“搜索”；3、否则返回失败页面，提示返回重新搜索。</td>
</tr>
<tr>
<td>限制条件</td>
<td>必须连接数据库，否则会出现无法连接数据库错误(因为此处需要检查用户名是否可用)</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系：内嵌于主页的主栏里，也可点击基本业务菜单下的“高级搜索”进入此页面。</td>
</tr>
<tr>
<td>输出</td>
<td>产品信息显示页面</td>
</tr>
</tbody></table>

##### 租赁物品搜索协作图
![img 租赁物品搜索协作图]()

##### 租赁物品搜索时序图
![img 租赁物品搜索时序图]()

#### 租赁物品发布信息模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>租赁物品发布信息模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>用户可以发布租赁物品信息</td>
</tr>
<tr>
<td>性能</td>
<td>信息处理时间&lt;5s</td>
</tr>
<tr>
<td>输入</td>
<td>租赁物品基本信息：名称、种类、价格、描述、联系方式</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、用户点击发布租赁物品信息子菜单；2、用户录入租赁物品信息，核对租赁物品信息；3、点击按钮“发布”，若成功提示用户已将系统将信息纳入“租赁物品信息表”，后自动跳转至主页；4、否则，提示用户发布失败,返回发布租赁物品信息页面</td>
</tr>
<tr>
<td>限制条件</td>
<td>1、必须连接数据库，否则会出现无法连接数据库错误；2、必须登录，否则无法进入。</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系：点击基本业务菜单下的“发布租赁物品信息”进入此页面。</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 租赁物品发布信息协作图
![img 租赁物品发布信息协作图]()

##### 租赁物品发布信息时序图
![img 租赁物品发布信息时序图]()

#### 租赁信息更新模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>租赁信息更新模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>用户可以对已发布的租赁物品信息进行更改、删除操作</td>
</tr>
<tr>
<td>性能</td>
<td>信息处理时间&lt;5s</td>
</tr>
<tr>
<td>输入</td>
<td>租赁物品基本信息：名称、种类、价格、描述、联系方式</td>
</tr>
<tr>
<td>操作序列-删除</td>
<td>1、点击“租赁信息更新”，进入租赁信息更新页面，选中“删除”；2、提示用户是否删除，用户确认后，若成功提示用户信息已删除,后自动跳转至主页；3、否则,提示用户删除失败，返回删除信息页面。</td>
</tr>
<tr>
<td>操作序列-修改</td>
<td>1、点击“租赁信息更新”，进入租赁信息更新页面，选中“修改”；2、用户填写新的租赁物品信息,点击“修改”，若成功提示用户修改信息成功，后自动跳转至主页；3、否则，提示用户发布失败,返回修改信息页面。</td>
</tr>
<tr>
<td>限制条件</td>
<td>1、必须连接数据库，否则会出现无法连接数据库错误；2、必须登录，否则无法进入。</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系：点击基本业务菜单下的“租赁信息更新”进入此页面。</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 租赁信息更新协作图：其中一个子模块：删除租赁物品信息协作图
![img 租赁信息更新协作图]()

##### 租赁信息更新时序图：其中一个子模块：修改租赁物品信息时序图
![img 租赁信息更新时序图]()

#### 用户基本信息更新模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>用户基本信息更新模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>用户可以修改个人基本信息,包括：修改注册邮箱、用户名、密码</td>
</tr>
<tr>
<td>性能</td>
<td>更新数据库响应时间&lt;5s</td>
</tr>
<tr>
<td>输入</td>
<td>新的注册邮箱、用户名、密码</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、点击“个人信息更新”，进入到用户信息更新页面；2、填写需要更新的个人信息,点击“修改"；3、若成功则提示用户更新成功,后将自动跳转到主页；4、否则，提示用户更新失败，返回用户信息更新页面</td>
</tr>
<tr>
<td>限制条件</td>
<td>1、必须连接数据库，否则会出现无法连接数据库错误；2、必须登录，否则无法进入。</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系：点击基本业务菜单下的“个人信息更新”进入此页面。</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 用户基本信息更新协作图
![img 用户基本信息更新协作图]()

##### 用户基本信息更新时序图
![img 用户基本信息更新时序图]()

#### 管理员删除用户模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>管理员删除用户模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>管理员通过查询发布垃圾信息恶劣者，销毁其账户</td>
</tr>
<tr>
<td>性能</td>
<td>更新数据库响应时间&lt;5s</td>
</tr>
<tr>
<td>输入</td>
<td>无</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、点击“删除用户”,进入删除用户页面；2、点击“删除”，若成功则提示管理员删除成功，后自动跳转至主页；3、否则，提示管理员删除失败，返回删除用户页面</td>
</tr>
<tr>
<td>限制条件</td>
<td>1、必须连接数据库，否则会出现无法连接数据库错误；2、必须登录，否则无法执行操作；3、管理员主观测定用户行为</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系：点击系统维护菜单下的“删除用户”即可进入此页面。</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 管理员删除用户协作图
![img 管理员删除用户协作图]()

##### 管理员删除用户时序图
![img 管理员删除用户时序图]()

#### 管理员警告用户模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>管理员警告用户模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>管理员通过查询发布垃圾信息行为较轻者,警告提醒之</td>
</tr>
<tr>
<td>性能</td>
<td>警告发送邮件响应时间&lt;5s</td>
</tr>
<tr>
<td>输入</td>
<td>警告提醒信息，包括:接收用户名、邮箱、警告提醒信息等</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、点击“警告用户"，进入警告用户页面，选中邮件提醒；2、填写警告提醒信息，发送邮件或站内信，若成功，提示管理员发送成功,后自动跳转至主页；3、否则，提示发送信息失败，返回警告用户页面</td>
</tr>
<tr>
<td>限制条件</td>
<td>1、必须连接数据库，否则会出现无法连接数据库错误；2、必须登录，否则无法执行操作；3、管理员主观测定用户行为</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系：点击系统维护菜单下的“警告用户”即可进入此页面。</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 管理员警告用户协作图
![img 管理员警告用户协作图]()

##### 管理员警告用户时序图
![img 管理员警告用户时序图]()

#### 发布公用信息模块

<table>
<thead>
<tr>
<th>名称、标识符</th>
<th>发布公用信息模块</th>
</tr>
</thead>
<tbody><tr>
<td>功能描述</td>
<td>管理员可发布本站公用信息，方便用户使用</td>
</tr>
<tr>
<td>性能</td>
<td>发布信息响应时间&lt;2s</td>
</tr>
<tr>
<td>输入</td>
<td>本站公用信息</td>
</tr>
<tr>
<td>操作序列</td>
<td>1、点击“发布公用信息”,进入发布公用信息页面；2、填写公用信息，点击“发布"，若发布成功，提示管理员，后自动跳转至主页；3、否则，提示管理员发布信息失败,返回发布公用信息页面。</td>
</tr>
<tr>
<td>限制条件</td>
<td>管理员必须登录</td>
</tr>
<tr>
<td>接口</td>
<td>与主页的联系：点击系统维护菜单下的“发布公用信息”即可进入此页面。</td>
</tr>
<tr>
<td>输出</td>
<td>返回主页</td>
</tr>
</tbody></table>

##### 发布公用信息时序图
![img 发布公用信息时序图]()

### 数据库设计

#### 外部设计

##### 标识符和状态
<table>
<thead>
<tr>
<th>表名</th>
<th>名称</th>
<th>描述信息</th>
<th>状态</th>
</tr>
</thead>
<tbody><tr>
<td>用户</td>
<td>user</td>
<td>用户基本信息</td>
<td>使用状态</td>
</tr>
<tr>
<td>租赁物品状态</td>
<td>goodstype</td>
<td>租赁物品状态信息</td>
<td>使用状态</td>
</tr>
<tr>
<td>租赁物品</td>
<td>goods</td>
<td>租赁物品信息</td>
<td>使用状态</td>
</tr>
<tr>
<td>租赁店铺</td>
<td>store</td>
<td>租赁店铺信息</td>
<td>使用状态</td>
</tr>
<tr>
<td>收藏夹</td>
<td>favorite</td>
<td>收藏的租赁信息</td>
<td>使用状态</td>
</tr>
<tr>
<td>租赁订单</td>
<td>order</td>
<td>租赁订单的信息</td>
<td>使用状态</td>
</tr>
</tbody></table>

##### 使用它的程序

<table>
<thead>
<tr>
<th>应用程序</th>
<th>名称</th>
<th>版本号</th>
</tr>
</thead>
<tbody><tr>
<td>用户信息更新</td>
<td>用户信息模块</td>
<td>1.0</td>
</tr>
<tr>
<td>租赁信息查询</td>
<td>基本业务模块</td>
<td>1.0</td>
</tr>
<tr>
<td>租赁信息更新</td>
<td>基本业务模块</td>
<td>1.0</td>
</tr>
<tr>
<td>用户信息删除</td>
<td>系统维护模块</td>
<td>1.0</td>
</tr>
<tr>
<td>用户警告系统</td>
<td>系统维护模块</td>
<td>1.0</td>
</tr>
<tr>
<td>租赁物品管理</td>
<td>数据库管理模块</td>
<td>1.0</td>
</tr>
</tbody></table>

##### 约定

1. 用户表(user)
| 前缀		| 说明 |
| ---		| --- |
|id			| 用户id |
|loginName	| 用户名 | 
|pwd		| 用户密码 |
|gender		| 用户性别 |
|creditCard	| 银行卡号 | 
|email		| 邮箱 |
|mobile		| 手机号 |
|userName	| 姓名 |
|wallet		| 钱包 |
|score		| 积分 |
|state		| 状态 |

2. 租赁物品状态表(goodstype)
| 前缀		| 说明 |
| ---		| --- |
| id | 状态ID |
| typeName| 状态名称 |

3. 租赁物品表(goods)
| 前缀		| 说明	|
| ---		| ---	|
|id			| 租赁物品id |
|goodsName	| 租赁物品名称 |
|Price		| 租赁物品价格/小时 |
|goodsNum	| 租赁物品库存 |
|picture	| 租赁物品图片 |
|goodsTypeId| 租赁物品状态 |
|storeId	| 租赁店铺id |

4. 租赁店铺(store)
| 前缀		| 说明			|
| ---		| ---			|
|id				| 店铺ID |
|storeName		| 店名 |
|storeLevel		| 小店等级 |
|storePicture	| 营业执照 |
|IDNumberPicture| 店长身份照 | 
|userID			| 店长ID |

5. 收藏夹表(favorite)
| 前缀		| 说明	|
| ---		| ---	|
|id		|      收藏夹id      |
|userID	|       用户id     |
|goodsID|         租赁物品id   |

6. 租赁订单表(order)
| 前缀		| 说明		|
| ---		| ---		|
|id			| 订单id |
|orderNumber| 订单编号 |
|goodsID	| 商品id |
|userID		| 用户id |
|state		| 订单状态 |
|orderDate	| 订单日期 |

##### 专门指导
- 可参考的资料：
	- 软件工程哈工大耿建玲视频
	- 数据库设计规范
##### 支持软件
- 数据库设计编辑工具“navicat for mysql”
- 数据库自带工具“mysql command line client”
- 管理员工具：navicat for mysql

### 结构设计

#### 概念设计
<font color= grey>说明本数据库将反映的现实世界中的实体、属性和它们之间的关系等的原始数据形式，包括各数据项、记录、系、文卷的标识符、定义、类型、度量单位和值域，建立本数据库的每一幅用户视图。</font>
#### 逻辑结构设计
<font color= grey>说明把上述原始数据进行分解、合并后重新组织起来的数据库全局逻辑结构，包括所确定的关键字和属性、重新确定的记录结构和文卷结构、所建立的各个文卷之间的相互关系，形成本数据库的数据库管理员视图。</font>
#### 物理设计
<font color= grey>建立系统程序员视图，包括：a．数据在内存中的安排，包括对索引区、缓冲区的设计；b．所使用的外存设备及外存空间的组织，包括索引区、数据块的组织与划分；c．访问数据的方式方法。</font>
### 运行设计

#### 数据字典设计
<font color= grey>对数据库设计中涉及到的各种项目，如数据项、记录、系、文卷、模式、子模式等一般要建立起数据字典，以说明它们的标识符、同义名及有关信息。在本节中要说明对此数据字典设计的基本考虑。</font>
#### 安全保密设计
<font color= grey>说明在数据库的设计中，将如何通过区分不同的访问者、不同的访问类型和不同的数据对象，进行分别对待而获得的数据库安全保密的设计考虑。</font>



				

	
